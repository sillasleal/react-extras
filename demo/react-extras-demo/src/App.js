import React, { Component } from 'react';
import './App.css';
/**/
import MapTrack from './components/MapTrack/MapTrack';

class App extends Component {
    constructor(props) {
        super(props);
        this.state = {
            carPosition: null
        };
        this.points = [
            { "lat": -8.16191, "lng": -34.91216 },
            { "lat": -8.161700000000002, "lng": -34.912090000000006 },
            { "lat": -8.161480000000001, "lng": -34.91281 },
            { "lat": -8.159970000000001, "lng": -34.91227 },
            { "lat": -8.15924, "lng": -34.91199 },
            { "lat": -8.15888, "lng": -34.912910000000004 },
            { "lat": -8.158800000000001, "lng": -34.91321 },
            { "lat": -8.15975, "lng": -34.91355 },
            { "lat": -8.16033, "lng": -34.91376 },
            { "lat": -8.16169, "lng": -34.914280000000005 },
            { "lat": -8.16238, "lng": -34.91452 },
            { "lat": -8.163170000000001, "lng": -34.91485 },
            { "lat": -8.16444, "lng": -34.91532 },
            { "lat": -8.16505, "lng": -34.91559 },
            { "lat": -8.164850000000001, "lng": -34.91626 },
            { "lat": -8.16451, "lng": -34.91742 },
            { "lat": -8.16403, "lng": -34.919180000000004 },
            { "lat": -8.163630000000001, "lng": -34.92053 },
            { "lat": -8.16313, "lng": -34.92202 },
            { "lat": -8.16289, "lng": -34.922700000000006 },
            { "lat": -8.16239, "lng": -34.92423 },
            { "lat": -8.162130000000001, "lng": -34.924910000000004 },
            { "lat": -8.161890000000001, "lng": -34.925360000000005 },
            { "lat": -8.161760000000001, "lng": -34.92555 },
            { "lat": -8.16158, "lng": -34.92575 },
            { "lat": -8.16097, "lng": -34.92638 },
            { "lat": -8.160770000000001, "lng": -34.92665 },
            { "lat": -8.16075, "lng": -34.926700000000004 },
            { "lat": -8.16071, "lng": -34.926790000000004 },
            { "lat": -8.160580000000001, "lng": -34.92703 },
            { "lat": -8.160440000000001, "lng": -34.92716 },
            { "lat": -8.160260000000001, "lng": -34.92725 },
            { "lat": -8.16005, "lng": -34.92728 },
            { "lat": -8.15976, "lng": -34.92728 },
            { "lat": -8.159460000000001, "lng": -34.92701 },
            { "lat": -8.159310000000001, "lng": -34.92691 },
            { "lat": -8.15923, "lng": -34.926880000000004 },
            { "lat": -8.159120000000001, "lng": -34.9269 },
            { "lat": -8.159040000000001, "lng": -34.926930000000006 },
            { "lat": -8.158980000000001, "lng": -34.92696 },
            { "lat": -8.15887, "lng": -34.927060000000004 },
            { "lat": -8.158840000000001, "lng": -34.927130000000005 },
            { "lat": -8.15882, "lng": -34.927240000000005 },
            { "lat": -8.15886, "lng": -34.92738 },
            { "lat": -8.15892, "lng": -34.92752 },
            { "lat": -8.15905, "lng": -34.92768 },
            { "lat": -8.15914, "lng": -34.927780000000006 },
            { "lat": -8.159170000000001, "lng": -34.927890000000005 },
            { "lat": -8.15919, "lng": -34.927980000000005 },
            { "lat": -8.15915, "lng": -34.92839 },
            { "lat": -8.15895, "lng": -34.929 },
            { "lat": -8.15854, "lng": -34.93009 },
            { "lat": -8.15846, "lng": -34.930020000000006 },
            { "lat": -8.1582, "lng": -34.92967 },
            { "lat": -8.15799, "lng": -34.929480000000005 },
            { "lat": -8.15765, "lng": -34.92916 },
            { "lat": -8.157490000000001, "lng": -34.928990000000006 },
            { "lat": -8.15733, "lng": -34.928810000000006 },
            { "lat": -8.156930000000001, "lng": -34.928180000000005 },
            { "lat": -8.15684, "lng": -34.92806 },
            { "lat": -8.15666, "lng": -34.9277 },
            { "lat": -8.15648, "lng": -34.927260000000004 }
        ];
    }

    componentDidMount() {
//        setInterval(() => this.setState({
        setTimeout(() => this.setState({
                carPosition: this.points.shift()
            }), 1000);
        setTimeout(() => this.setState({
                carPosition: { "lat": -8.141089, "lng": -34.917677 }
            }), 30000);
    }

    render() {
        const destiny = {
            lat: -8.1562185,
            lng: -34.927317599999995
        };
        /**/
        return (
                <div className="App">
                    <MapTrack 
                        centerHere 
                        googleMapsKey="AIzaSyAzOpUT193DQpsR2xGjwvchvnjTicpMGJI" 
                        width="99%"
                        height="98vh"
                        destiny={destiny}
                        lineRoute="blue"
                        infoWindow="<div>OK</div>"
                        distanceToArrive={50}
                        onArrive={() => alert('chegou')}
                        carPosition={this.state.carPosition}
                        destinyTitle="Minha casa minha vida"
                        zoom={19}/>
                </div>
                );
    }
}

export default App;
